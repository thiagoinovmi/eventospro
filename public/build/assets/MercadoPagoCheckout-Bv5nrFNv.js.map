{"version":3,"file":"MercadoPagoCheckout-Bv5nrFNv.js","sources":["../../../eventmie-pro/resources/js/events_show/components/MercadoPagoCheckout.vue"],"sourcesContent":["<template>\n    <div class=\"mercadopago-checkout-container mt-4 p-4 border rounded bg-light\">\n        <!-- üéâ Mensagem de Confirma√ß√£o de Pagamento -->\n        <div v-if=\"paymentConfirmed\" class=\"text-center py-5\">\n            <div class=\"mb-4\">\n                <i class=\"fas fa-check-circle text-success\" style=\"font-size: 4rem;\"></i>\n            </div>\n            \n            <h3 class=\"text-success mb-3\">\n                ‚úÖ Pagamento Recebido e Confirmado!\n            </h3>\n            \n            <p class=\"text-muted mb-4\">\n                Seu pagamento foi processado com sucesso. Voc√™ ser√° redirecionado para a p√°gina de minhas reservas em breve.\n            </p>\n            \n            <div class=\"alert alert-success\" role=\"alert\">\n                <i class=\"fas fa-info-circle me-2\"></i>\n                <strong>Redirecionando...</strong> Aguarde alguns segundos.\n            </div>\n            \n            <div class=\"spinner-border text-success mt-3\" role=\"status\">\n                <span class=\"visually-hidden\">Carregando...</span>\n            </div>\n        </div>\n\n        <!-- Formul√°rio Normal (quando n√£o confirmado) -->\n        <template v-else>\n            <!-- Header -->\n            <div class=\"mb-4\">\n                <h5 class=\"mb-3\">\n                    <i class=\"fas fa-credit-card me-2\"></i>\n                    {{ trans('em.payment_details') || 'Detalhes do Pagamento' }}\n                </h5>\n                <hr>\n            </div>\n\n            <!-- Order Summary -->\n            <div class=\"row mb-4\">\n                <div class=\"col-md-6\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title mb-3\">{{ trans('em.order_summary') || 'Resumo do Pedido' }}</h6>\n                            <div class=\"d-flex justify-content-between mb-2\">\n                                <span>{{ trans('em.subtotal') || 'Subtotal' }}:</span>\n                                <strong>{{ subtotal }} {{ currency }}</strong>\n                            </div>\n                            <div class=\"d-flex justify-content-between mb-2\">\n                                <span>{{ trans('em.tax') || 'Taxa' }}:</span>\n                                <strong>{{ tax }} {{ currency }}</strong>\n                            </div>\n                            <hr>\n                            <div class=\"d-flex justify-content-between\">\n                                <span class=\"h6\">{{ trans('em.total') || 'Total' }}:</span>\n                                <strong class=\"h6\">{{ total }} {{ currency }}</strong>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Payment Method Selection -->\n                <div class=\"col-md-6\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title mb-3\">{{ trans('em.payment_method') || 'M√©todo de Pagamento' }}</h6>\n                            \n                            <!-- Credit Card -->\n                            <div class=\"form-check mb-3\" v-if=\"loadedMethods.credit_card\">\n                                <input class=\"form-check-input\" type=\"radio\" id=\"method_credit_card\" v-model=\"selectedMethod\" value=\"credit_card\">\n                                <label class=\"form-check-label\" for=\"method_credit_card\">\n                                    <i class=\"fas fa-credit-card me-2\"></i>\n                                    {{ trans('em.credit_card') || 'Cart√£o de Cr√©dito' }}\n                                </label>\n                            </div>\n\n                            <!-- Debit Card -->\n                            <div class=\"form-check mb-3\" v-if=\"loadedMethods.debit_card\">\n                                <input class=\"form-check-input\" type=\"radio\" id=\"method_debit_card\" v-model=\"selectedMethod\" value=\"debit_card\">\n                                <label class=\"form-check-label\" for=\"method_debit_card\">\n                                    <i class=\"fas fa-credit-card me-2\"></i>\n                                    {{ trans('em.debit_card') || 'Cart√£o de D√©bito' }}\n                                </label>\n                            </div>\n\n                            <!-- Boleto -->\n                            <div class=\"form-check mb-3\" v-if=\"loadedMethods.boleto\">\n                                <input class=\"form-check-input\" type=\"radio\" id=\"method_boleto\" v-model=\"selectedMethod\" value=\"boleto\">\n                                <label class=\"form-check-label\" for=\"method_boleto\">\n                                    <i class=\"fas fa-barcode me-2\"></i>\n                                    {{ trans('em.boleto') || 'Boleto Banc√°rio' }}\n                                </label>\n                            </div>\n\n                            <!-- PIX -->\n                            <div class=\"form-check mb-3\" v-if=\"loadedMethods.pix\">\n                                <input class=\"form-check-input\" type=\"radio\" id=\"method_pix\" v-model=\"selectedMethod\" value=\"pix\">\n                                <label class=\"form-check-label\" for=\"method_pix\">\n                                    <i class=\"fas fa-mobile-alt me-2\"></i>\n                                    {{ trans('em.pix') || 'PIX' }}\n                                </label>\n                            </div>\n\n                            <!-- Wallet -->\n                            <div class=\"form-check\" v-if=\"loadedMethods.mercadopago_wallet\">\n                                <input class=\"form-check-input\" type=\"radio\" id=\"method_wallet\" v-model=\"selectedMethod\" value=\"mercadopago_wallet\">\n                                <label class=\"form-check-label\" for=\"method_wallet\">\n                                    <i class=\"fas fa-wallet me-2\"></i>\n                                    {{ trans('em.wallet') || 'Carteira Mercado Pago' }}\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Card Form (for credit/debit card) -->\n            <div v-if=\"['credit_card', 'debit_card'].includes(selectedMethod)\" class=\"row mb-4\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title mb-3\">{{ trans('em.card_details') || 'Dados do Cart√£o' }}</h6>\n                            \n                            <!-- Cardholder Name -->\n                            <div class=\"mb-3\">\n                                <label for=\"cardholderName\" class=\"form-label\">{{ trans('em.cardholder_name') || 'Nome do Titular' }}</label>\n                                <input \n                                    type=\"text\" \n                                    class=\"form-control\" \n                                    id=\"cardholderName\"\n                                    v-model=\"cardData.holderName\"\n                                    placeholder=\"Jo√£o Silva\"\n                                    @input=\"validateCardholderName\"\n                                >\n                                <small class=\"text-danger\" v-if=\"errors.cardholderName\">{{ errors.cardholderName }}</small>\n                            </div>\n\n                            <!-- Card Number -->\n                            <div class=\"mb-3\">\n                                <label for=\"cardNumber\" class=\"form-label\">{{ trans('em.card_number') || 'N√∫mero do Cart√£o' }}</label>\n                                <input \n                                    type=\"text\" \n                                    class=\"form-control\" \n                                    id=\"cardNumber\"\n                                    v-model=\"cardData.number\"\n                                    placeholder=\"1234 5678 9012 3456\"\n                                    maxlength=\"19\"\n                                    @input=\"formatCardNumber\"\n                                >\n                                <small class=\"text-danger\" v-if=\"errors.cardNumber\">{{ errors.cardNumber }}</small>\n                            </div>\n\n                            <!-- Expiry and CVV -->\n                            <div class=\"row\">\n                                <div class=\"col-md-6 mb-3\">\n                                    <label for=\"cardExpiry\" class=\"form-label\">{{ trans('em.expiry_date') || 'Validade' }}</label>\n                                    <input \n                                        type=\"text\" \n                                        class=\"form-control\" \n                                        id=\"cardExpiry\"\n                                        v-model=\"cardData.expiry\"\n                                        placeholder=\"MM/YY\"\n                                        maxlength=\"5\"\n                                        @input=\"formatCardExpiry\"\n                                    >\n                                    <small class=\"text-danger\" v-if=\"errors.cardExpiry\">{{ errors.cardExpiry }}</small>\n                                </div>\n                                <div class=\"col-md-6 mb-3\">\n                                    <label for=\"cardCvv\" class=\"form-label\">{{ trans('em.cvv') || 'CVV' }}</label>\n                                    <input \n                                        type=\"text\" \n                                        class=\"form-control\" \n                                        id=\"cardCvv\"\n                                        v-model=\"cardData.cvv\"\n                                        placeholder=\"123\"\n                                        maxlength=\"4\"\n                                        @input=\"validateCVV\"\n                                    >\n                                    <small class=\"text-danger\" v-if=\"errors.cardCvv\">{{ errors.cardCvv }}</small>\n                                </div>\n                            </div>\n\n                            <!-- Installments - Apenas para cart√£o de cr√©dito e carteira -->\n                            <div class=\"mb-3\" v-if=\"['credit_card', 'wallet'].includes(selectedMethod) && installmentOptions.length > 0\">\n                                <label for=\"installments\" class=\"form-label\">{{ trans('em.installments') || 'Parcelamento' }}</label>\n                                <select class=\"form-select\" id=\"installments\" v-model=\"cardData.installments\">\n                                    <option v-for=\"option in installmentOptions\" :key=\"option.value\" :value=\"option.value\">\n                                        {{ option.label }}\n                                    </option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Card Payment Confirmation (waiting for approval) -->\n            <div v-if=\"isWaitingPayment && ['credit_card', 'debit_card'].includes(selectedMethod)\" class=\"row mb-4\">\n                <div class=\"col-12\">\n                    <div class=\"card border-info\">\n                        <div class=\"card-body text-center\">\n                            <h6 class=\"card-title mb-4\">\n                                <i class=\"fas fa-credit-card me-2 text-info\"></i>\n                                {{ selectedMethod === 'credit_card' ? (trans('em.credit_card') || 'Cart√£o de Cr√©dito') : (trans('em.debit_card') || 'Cart√£o de D√©bito') }}\n                            </h6>\n                            \n                            <!-- Processing Message -->\n                            <div class=\"mb-4\">\n                                <div class=\"spinner-border text-info\" role=\"status\">\n                                    <span class=\"visually-hidden\">Processando...</span>\n                                </div>\n                            </div>\n                            \n                            <!-- Status -->\n                            <div class=\"alert alert-info\">\n                                <i class=\"fas fa-hourglass-half me-2\"></i>\n                                {{ trans('em.processing_payment') || 'Processando seu pagamento...' }}\n                            </div>\n                            \n                            <!-- Info Message -->\n                            <p class=\"text-muted mb-3\">\n                                {{ trans('em.payment_processing_info') || 'Seu pagamento est√° sendo processado. Isso pode levar alguns segundos.' }}\n                            </p>\n                            \n                            <!-- Waiting Message -->\n                            <div class=\"alert alert-warning\">\n                                <i class=\"fas fa-info-circle me-2\"></i>\n                                {{ trans('em.waiting_payment_confirmation') || 'Aguardando confirma√ß√£o do pagamento...' }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- PIX QR Code (waiting for payment) -->\n            <div v-if=\"isWaitingPayment && selectedMethod === 'pix'\" class=\"row mb-4\">\n                <div class=\"col-12\">\n                    <div class=\"card border-success\">\n                        <div class=\"card-body text-center\">\n                            <h6 class=\"card-title mb-4\">\n                                <i class=\"fas fa-mobile-alt me-2 text-success\"></i>\n                                {{ trans('em.waiting_pix_payment') || 'Aguardando Pagamento PIX' }}\n                            </h6>\n                            \n                            <!-- QR Code -->\n                            <div class=\"mb-4\" v-if=\"pixQrCode\">\n                                <img :src=\"pixQrCode\" alt=\"PIX QR Code\" class=\"img-fluid\" style=\"max-width: 300px;\">\n                            </div>\n                            \n                            <!-- Copy Code -->\n                            <div class=\"mb-4\" v-if=\"pixData\">\n                                <p class=\"text-muted mb-2\">{{ trans('em.or_copy_code') || 'Ou copie o c√≥digo:' }}</p>\n                                <div class=\"input-group\">\n                                    <input \n                                        type=\"text\" \n                                        class=\"form-control\" \n                                        :value=\"pixData\" \n                                        readonly\n                                        id=\"pixCode\"\n                                    >\n                                    <button \n                                        class=\"btn btn-outline-primary\" \n                                        type=\"button\"\n                                        @click=\"copyToClipboard\"\n                                    >\n                                        <i class=\"fas fa-copy me-2\"></i>\n                                        {{ trans('em.copy') || 'Copiar' }}\n                                    </button>\n                                </div>\n                            </div>\n                            \n                            <!-- Expiration Timer -->\n                            <div class=\"alert alert-info\" v-if=\"pixExpiration\">\n                                <i class=\"fas fa-clock me-2\"></i>\n                                {{ trans('em.pix_expires_in') || 'PIX expira em' }}: \n                                <strong :key=\"timerTrigger\">{{ formatTimeRemaining(pixExpiration) }}</strong>\n                            </div>\n                            \n                            <!-- Waiting Message -->\n                            <div class=\"alert alert-warning\">\n                                <i class=\"fas fa-hourglass-half me-2\"></i>\n                                {{ trans('em.waiting_payment_confirmation') || 'Aguardando confirma√ß√£o do pagamento...' }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Error Message -->\n            <div v-if=\"errorMessage\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                <i class=\"fas fa-exclamation-circle me-2\"></i>\n                {{ errorMessage }}\n                <button type=\"button\" class=\"btn-close\" @click=\"errorMessage = ''\" aria-label=\"Close\"></button>\n            </div>\n\n            <!-- Success Message -->\n            <div v-if=\"successMessage\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n                <i class=\"fas fa-check-circle me-2\"></i>\n                {{ successMessage }}\n                <button type=\"button\" class=\"btn-close\" @click=\"successMessage = ''\" aria-label=\"Close\"></button>\n            </div>\n\n            <!-- Security Info -->\n            <div class=\"mt-4 text-center\">\n                <small class=\"text-muted\">\n                    <i class=\"fas fa-shield-alt me-1\"></i>\n                    {{ trans('em.secure_payment') || 'Pagamento seguro com Mercado Pago' }}\n                </small>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        event: Object,\n        tickets: Array,\n        total: Number,\n        currency: String,\n        bookingData: Object,\n        paymentMethods: {\n            type: Object,\n            default: () => ({})\n        },\n        installmentOptions: {\n            type: Array,\n            default: () => {\n                const options = [];\n                for (let i = 1; i <= 12; i++) {\n                    options.push({\n                        value: i,\n                        label: i === 1 ? '1x sem juros' : `${i}x ${i <= 6 ? 'sem juros' : 'com juros'}`\n                    });\n                }\n                return options;\n            }\n        }\n    },\n\n    data() {\n        return {\n            selectedMethod: 'credit_card',\n            selectedTicket: null,\n            cardData: {\n                holderName: '',\n                number: '',\n                expiry: '',\n                cvv: '',\n                installments: 1,\n                paymentMethodId: 'credit_card' // Will be updated based on card brand\n            },\n            errors: {\n                cardholderName: '',\n                cardNumber: '',\n                cardExpiry: '',\n                cardCvv: ''\n            },\n            errorMessage: '',\n            successMessage: '',\n            loadedMethods: {},\n            pixData: null,\n            pixQrCode: null,\n            pixExpiration: null,\n            isWaitingPayment: false,\n            paymentCheckInterval: null,\n            paymentConfirmed: false,\n            timerCounter: 0,\n            timerInterval: null\n        }\n    },\n\n    mounted() {\n        this.loadPaymentMethods();\n        \n        // Iniciar timer para atualizar contagem regressiva a cada segundo\n        this.timerInterval = setInterval(() => {\n            this.timerCounter++;\n        }, 1000);\n    },\n\n    beforeDestroy() {\n        // Limpar interval quando componente √© destru√≠do\n        if (this.timerInterval) {\n            clearInterval(this.timerInterval);\n        }\n        if (this.paymentCheckInterval) {\n            clearInterval(this.paymentCheckInterval);\n        }\n    },\n\n    computed: {\n        timerTrigger() {\n            // Dummy computed property to trigger re-render\n            return this.timerCounter;\n        },\n        subtotal() {\n            const total = parseFloat(this.total) || 0;\n            return total.toFixed(2);\n        },\n        tax() {\n            return (0).toFixed(2);\n        }\n    },\n\n    watch: {\n        // üîë NOVO: Emitir evento quando isWaitingPayment muda\n        isWaitingPayment(newValue) {\n            this.$emit('waiting-payment-changed', newValue);\n        },\n        // üîë NOVO: Emitir evento quando paymentConfirmed muda\n        paymentConfirmed(newValue) {\n            this.$emit('payment-confirmed-changed', newValue);\n        }\n    },\n\n    methods: {\n        setSelectedTicket(ticket) {\n            console.log('Ticket selecionado no MercadoPagoCheckout:', ticket);\n            this.selectedTicket = ticket;\n        },\n\n        loadPaymentMethods() {\n            console.log('=== CARREGANDO M√âTODOS DE PAGAMENTO ===');\n            console.log('Event ID:', this.event?.id);\n            \n            if (!this.event?.id) {\n                console.error('Event ID n√£o encontrado');\n                return;\n            }\n\n            const timestamp = new Date().getTime();\n            const url = `/api/mercadopago/payment-methods/event/${this.event.id}?t=${timestamp}`;\n            console.log('Chamando API:', url);\n\n            axios.get(url, {\n                headers: {\n                    'Cache-Control': 'no-cache, no-store, must-revalidate',\n                    'Pragma': 'no-cache',\n                    'Expires': '0'\n                }\n            })\n            .then(response => {\n                console.log('Resposta da API:', response.data);\n                \n                if (response.data.status && response.data.data) {\n                    const methods = response.data.data;\n                    console.log('M√©todos carregados:', methods.length, methods);\n                    \n                    // Build payment methods object\n                    this.loadedMethods = {};\n                    methods.forEach(method => {\n                        this.loadedMethods[method.type] = true;\n                    });\n                    \n                    console.log('M√©todos processados:', this.loadedMethods);\n                    \n                    // Set first available method as selected\n                    const firstMethod = methods[0];\n                    if (firstMethod) {\n                        this.selectedMethod = firstMethod.type;\n                    }\n                } else {\n                    console.error('Erro na resposta:', response.data.message);\n                    this.errorMessage = response.data.message || 'Erro ao carregar m√©todos de pagamento';\n                }\n            })\n            .catch(error => {\n                console.error('Erro ao carregar m√©todos:', error);\n                this.errorMessage = 'Erro ao carregar m√©todos de pagamento: ' + error.message;\n            });\n        },\n\n        formatCardNumber() {\n            let value = this.cardData.number.replace(/\\s/g, '');\n            let formatted = value.match(/.{1,4}/g)?.join(' ') || value;\n            this.cardData.number = formatted;\n            \n            // üîë IMPORTANTE: Detectar marca APENAS para cr√©dito\n            // Para d√©bito, N√ÉO detectar marca (backend usa debit_card)\n            if (this.selectedMethod === 'credit_card') {\n                this.detectCardBrand(value);\n            } else if (this.selectedMethod === 'debit_card') {\n                // Para d√©bito, n√£o detectar marca\n                this.cardData.paymentMethodId = undefined;\n                console.log('D√©bito selecionado - payment_method_id n√£o ser√° enviado');\n            }\n        },\n        \n        detectCardBrand(cardNumber) {\n            // Remove non-digits\n            const cleanNumber = cardNumber.replace(/\\D/g, '');\n            \n            if (!cleanNumber) {\n                this.cardData.paymentMethodId = 'credit_card';\n                return;\n            }\n            \n            // Visa: starts with 4\n            if (/^4/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'visa';\n            }\n            // Mastercard: starts with 51-55\n            else if (/^5[1-5]/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'master';\n            }\n            // American Express: starts with 34 or 37\n            else if (/^3[47]/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'amex';\n            }\n            // Elo: starts with 6363, 6364, 6365, 6366, 6367, 6368, 6369\n            else if (/^636[3-9]/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'elo';\n            }\n            // Diners: starts with 36, 38, 39\n            else if (/^3[689]/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'diners';\n            }\n            // Discover: starts with 6011 or 65\n            else if (/^6(?:011|5)/.test(cleanNumber)) {\n                this.cardData.paymentMethodId = 'discover';\n            }\n            else {\n                this.cardData.paymentMethodId = 'credit_card';\n            }\n            \n            console.log('Card brand detected:', this.cardData.paymentMethodId);\n        },\n\n        formatCardExpiry() {\n            let value = this.cardData.expiry.replace(/\\D/g, '');\n            if (value.length >= 2) {\n                value = value.slice(0, 2) + '/' + value.slice(2, 4);\n            }\n            this.cardData.expiry = value;\n        },\n\n        validateCardholderName() {\n            if (this.cardData.holderName.length < 3) {\n                this.errors.cardholderName = 'Nome deve ter pelo menos 3 caracteres';\n            } else {\n                this.errors.cardholderName = '';\n            }\n        },\n\n        validateCVV() {\n            if (this.cardData.cvv.length < 3 || this.cardData.cvv.length > 4) {\n                this.errors.cardCvv = 'CVV deve ter 3 ou 4 d√≠gitos';\n            } else {\n                this.errors.cardCvv = '';\n            }\n        },\n\n        validateForm() {\n            let isValid = true;\n\n            if (this.selectedMethod === 'credit_card' || this.selectedMethod === 'debit_card') {\n                // Validate cardholder name\n                if (this.cardData.holderName.length < 3) {\n                    this.errors.cardholderName = 'Nome inv√°lido';\n                    isValid = false;\n                }\n\n                // Validate card number\n                if (this.cardData.number.replace(/\\s/g, '').length !== 16) {\n                    this.errors.cardNumber = 'N√∫mero do cart√£o inv√°lido';\n                    isValid = false;\n                }\n\n                // Validate expiry\n                if (!this.cardData.expiry.match(/^\\d{2}\\/\\d{2}$/)) {\n                    this.errors.cardExpiry = 'Validade inv√°lida (MM/YY)';\n                    isValid = false;\n                }\n\n                // Validate CVV\n                if (this.cardData.cvv.length < 3 || this.cardData.cvv.length > 4) {\n                    this.errors.cardCvv = 'CVV inv√°lido';\n                    isValid = false;\n                }\n            }\n\n            return isValid;\n        },\n\n        async processPayment() {\n            console.log('=== PROCESS PAYMENT INICIADO ===');\n            console.log('selectedMethod:', this.selectedMethod);\n            console.log('selectedTicket:', this.selectedTicket);\n            \n            if (!this.validateForm()) {\n                this.$emit('error', 'Por favor, preencha todos os campos corretamente');\n                return;\n            }\n\n            this.errorMessage = '';\n\n            try {\n                // Use the ticket passed from TicketList\n                const ticketToUse = this.selectedTicket || (this.tickets && this.tickets.length > 0 ? this.tickets[0] : null);\n                \n                console.log('Ticket a ser usado:', ticketToUse);\n\n                // Prepare payment data\n                const paymentData = {\n                    event_id: this.event.id,\n                    booking_date: this.bookingData.booking_date,\n                    booking_end_date: this.bookingData.booking_end_date,\n                    start_time: this.bookingData.start_time,\n                    end_time: this.bookingData.end_time,\n                    payment_method: 'mercadopago',\n                    selected_method: this.selectedMethod,\n                    total: this.total,\n                    ticket_id: ticketToUse ? ticketToUse.id : null,\n                    ticket_title: ticketToUse ? ticketToUse.title : null\n                };\n                \n                // Add card-specific data for credit/debit cards\n                if (['credit_card', 'debit_card'].includes(this.selectedMethod)) {\n                    // Generate card token using Mercado Pago SDK\n                    const cardToken = await this.generateCardToken();\n                    \n                    if (!cardToken) {\n                        this.errorMessage = 'Erro ao gerar token do cart√£o. Verifique os dados e tente novamente.';\n                        return;\n                    }\n                    \n                    paymentData.card_token = cardToken;\n                    paymentData.installments = this.cardData.installments || 1;\n                    \n                    // üîë IMPORTANTE: Para cr√©dito, enviar a marca do cart√£o (visa, master, etc)\n                    // Para d√©bito, N√ÉO enviar payment_method_id (backend usa \"debit_card\")\n                    if (this.selectedMethod === 'credit_card') {\n                        paymentData.payment_method_id = this.cardData.paymentMethodId; // Send detected card brand for credit\n                    }\n                    // Para d√©bito, n√£o enviar payment_method_id - backend usa \"debit_card\" automaticamente\n                    \n                    console.log('Card payment data:', {\n                        card_token: cardToken,\n                        installments: paymentData.installments,\n                        payment_method_id: paymentData.payment_method_id,\n                        selected_method: this.selectedMethod,\n                        note: this.selectedMethod === 'debit_card' ? 'D√©bito - payment_method_id n√£o enviado' : 'Cr√©dito - payment_method_id enviado'\n                    });\n                }\n\n                const apiUrl = '/bookings/api/mercadopago/process';\n                console.log('Enviando dados para:', apiUrl);\n                console.log('Dados:', paymentData);\n\n                // Send payment request\n                const response = await axios.post(apiUrl, paymentData);\n\n                console.log('Resposta recebida:', response.data);\n\n                console.log('Response data completo:', response.data);\n                console.log('selectedMethod:', this.selectedMethod);\n                console.log('pix_data presente?', !!response.data.pix_data);\n                \n                if (response.data.status) {\n                    console.log('‚úÖ Pagamento processado com sucesso!');\n                    console.log('M√©todo selecionado:', this.selectedMethod);\n                    console.log('M√©todo retornado:', response.data.payment_method);\n                    console.log('Resposta completa:', JSON.stringify(response.data, null, 2));\n                    \n                    // PIX\n                    if (response.data.payment_method === 'pix' || this.selectedMethod === 'pix') {\n                        console.log('üîµ PIX selecionado - processando QR Code');\n                        console.log('qr_code presente?', !!response.data.qr_code);\n                        console.log('qr_code valor:', response.data.qr_code ? response.data.qr_code.substring(0, 50) + '...' : 'VAZIO');\n                        \n                        // PIX sempre retorna qr_code, mesmo que qr_code_url seja null\n                        if (response.data.qr_code) {\n                            console.log('‚úÖ QR Code encontrado!');\n                            console.log('QR Code URL:', response.data.qr_code_url || 'null (ser√° gerado dinamicamente)');\n                            \n                            this.pixData = response.data.qr_code;\n                            this.pixQrCode = response.data.qr_code_url; // J√° vem como data URL do backend\n                            this.pixExpiration = new Date(Date.now() + 30 * 60 * 1000); // 30 minutos\n                            this.isWaitingPayment = true;\n                            \n                            console.log('‚úÖ Estado PIX atualizado:', {\n                                pixDataPresente: !!this.pixData,\n                                pixQrCodeUrl: this.pixQrCode,\n                                isWaitingPayment: this.isWaitingPayment\n                            });\n                            \n                            console.log('‚è≥ Aguardando webhook do Mercado Pago para confirma√ß√£o...');\n                            \n                            // Iniciar verifica√ß√£o de confirma√ß√£o via webhook\n                            this.waitForWebhookConfirmation(response.data.booking_id);\n                        } else {\n                            console.error('‚ùå PIX selecionado mas qr_code n√£o retornou!');\n                            console.log('Resposta completa:', response.data);\n                            this.errorMessage = 'Falha ao gerar QR Code PIX. Tente novamente.';\n                        }\n                    }\n                    // Boleto\n                    else if (response.data.payment_method === 'boleto' || this.selectedMethod === 'boleto') {\n                        console.log('üìã Boleto selecionado - abrindo URL');\n                        \n                        if (response.data.barcode_url) {\n                            console.log('URL do boleto:', response.data.barcode_url);\n                            \n                            // Abrir boleto em nova aba\n                            window.open(response.data.barcode_url, '_blank');\n                            \n                            console.log('‚è≥ Aguardando webhook do Mercado Pago para confirma√ß√£o...');\n                            \n                            // Iniciar verifica√ß√£o de confirma√ß√£o via webhook\n                            this.waitForWebhookConfirmation(response.data.booking_id);\n                        } else {\n                            console.warn('Boleto selecionado mas barcode_url n√£o retornou');\n                            this.errorMessage = 'Falha ao gerar Boleto. Tente novamente.';\n                        }\n                    }\n                    // Carteira Mercado Pago\n                    else if (response.data.payment_method === 'wallet' || this.selectedMethod === 'mercadopago_wallet') {\n                        console.log('üí≥ Carteira Mercado Pago selecionada');\n                        \n                        console.log('‚è≥ Aguardando webhook do Mercado Pago para confirma√ß√£o...');\n                        \n                        // Iniciar verifica√ß√£o de confirma√ß√£o via webhook\n                        this.waitForWebhookConfirmation(response.data.booking_id);\n                    }\n                    // Cart√£o de Cr√©dito/D√©bito\n                    else if (response.data.payment_method === 'credit_card' || response.data.payment_method === 'debit_card') {\n                        console.log('‚úÖ Cart√£o processado com sucesso');\n                        \n                        // Definir como confirmado (remove o formul√°rio)\n                        this.paymentConfirmed = true;\n                        this.successMessage = 'Pagamento realizado com sucesso!';\n                        \n                        // Redirecionar ap√≥s 2 segundos\n                        setTimeout(() => {\n                            window.location.href = '/mybookings';\n                        }, 2000);\n                    }\n                    // Fallback para outros casos\n                    else {\n                        console.log('M√©todo de pagamento:', response.data.payment_method);\n                        this.successMessage = response.data.message || 'Pagamento processado com sucesso!';\n                        \n                        setTimeout(() => {\n                            window.location.href = '/mybookings';\n                        }, 2000);\n                    }\n                } else {\n                    console.error('‚ùå Erro na resposta:', response.data);\n                    this.errorMessage = response.data.message || 'Erro ao processar pagamento';\n                }\n            } catch (error) {\n                console.error('‚ùå Payment error:', error);\n                console.error('Resposta de erro:', error.response);\n                \n                const errorMessage = error.response?.data?.message || 'Erro ao processar pagamento. Tente novamente.';\n                this.errorMessage = errorMessage;\n            }\n        },\n\n        waitForWebhookConfirmation(bookingId) {\n            console.log('üîÑ Aguardando confirma√ß√£o do webhook para booking:', bookingId);\n            \n            // Verificar a cada 1 segundo se o booking foi marcado como pago (mais r√°pido)\n            let attempts = 0;\n            const maxAttempts = 300; // 5 minutos (300 * 1 segundo)\n            \n            const checkInterval = setInterval(async () => {\n                attempts++;\n                \n                try {\n                    // Verificar se o booking foi marcado como pago\n                    const response = await axios.get(`/mybookings/api/get_mybookings`);\n                    \n                    console.log('üìä Resposta da API:', response.data);\n                    \n                    // Procurar pelo booking na lista\n                    // A resposta tem a estrutura: { bookings: { data: [...], ... }, currency: ... }\n                    let bookings = [];\n                    \n                    if (response.data.bookings) {\n                        // Se tem propriedade bookings (paginado)\n                        bookings = Array.isArray(response.data.bookings.data) ? response.data.bookings.data : [];\n                    } else if (Array.isArray(response.data)) {\n                        // Se √© um array direto\n                        bookings = response.data;\n                    }\n                    \n                    console.log('üìã Bookings encontrados:', bookings.length);\n                    \n                    const booking = bookings.find(b => b.id === bookingId);\n                    \n                    if (booking) {\n                        console.log('üîç Booking encontrado:', booking);\n                        console.log('üí∞ is_paid:', booking.is_paid, 'Tipo:', typeof booking.is_paid);\n                    }\n                    \n                    // Verificar se o booking foi pago (is_paid pode ser 1, \"1\", true, etc)\n                    if (booking && (booking.is_paid === 1 || booking.is_paid === '1' || booking.is_paid === true)) {\n                        console.log('‚úÖ Pagamento confirmado via webhook!');\n                        clearInterval(checkInterval);\n                        \n                        // üéâ NOVO: Atualizar UI em tempo real\n                        this.paymentConfirmed = true;\n                        \n                        // Limpar estado\n                        this.isWaitingPayment = false;\n                        this.pixData = '';\n                        this.pixQrCode = '';\n                        \n                        // üéâ NOVO: Mostrar toast de sucesso\n                        this.showSuccessToast('Pagamento recebido e confirmado com sucesso!');\n                        \n                        // Mostrar mensagem de sucesso\n                        this.successMessage = 'Pagamento realizado com sucesso! Redirecionando...';\n                        \n                        // Redirecionar ap√≥s 2 segundos\n                        setTimeout(() => {\n                            window.location.href = '/mybookings';\n                        }, 2000);\n                    } else if (attempts >= maxAttempts) {\n                        console.warn('‚è±Ô∏è Parando verifica√ß√£o de webhook ap√≥s 5 minutos');\n                        clearInterval(checkInterval);\n                        // N√£o mostrar mensagem de erro - PIX pode ser confirmado a qualquer momento\n                        // O usu√°rio pode voltar para Minha Conta para verificar o status\n                    }\n                } catch (error) {\n                    console.error('‚ùå Erro ao verificar confirma√ß√£o:', error);\n                    console.error('Detalhes do erro:', error.response?.data || error.message);\n                    if (attempts >= maxAttempts) {\n                        clearInterval(checkInterval);\n                    }\n                }\n            }, 1000); // Verificar a cada 1 segundo (em vez de 2)\n        },\n        \n        // üéâ NOVO: Mostrar toast de sucesso\n        showSuccessToast(message) {\n            // Usar Bootstrap Toast se dispon√≠vel\n            if (typeof bootstrap !== 'undefined' && bootstrap.Toast) {\n                // Criar elemento toast dinamicamente\n                const toastHTML = `\n                    <div class=\"toast show\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" style=\"position: fixed; top: 20px; right: 20px; z-index: 9999;\">\n                        <div class=\"toast-header bg-success text-white\">\n                            <i class=\"fas fa-check-circle me-2\"></i>\n                            <strong class=\"me-auto\">Sucesso</strong>\n                            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"toast-body bg-light\">\n                            ${message}\n                        </div>\n                    </div>\n                `;\n                \n                const toastContainer = document.createElement('div');\n                toastContainer.innerHTML = toastHTML;\n                document.body.appendChild(toastContainer);\n                \n                // Remover ap√≥s 5 segundos\n                setTimeout(() => {\n                    toastContainer.remove();\n                }, 5000);\n            } else {\n                // Fallback: usar alert\n                console.log('‚úÖ ' + message);\n            }\n        },\n\n        copyToClipboard() {\n            const pixCode = document.getElementById('pixCode');\n            if (pixCode) {\n                pixCode.select();\n                document.execCommand('copy');\n                alert('C√≥digo PIX copiado para a √°rea de transfer√™ncia!');\n            }\n        },\n\n        formatTimeRemaining(expirationTime) {\n            const now = new Date();\n            const diff = expirationTime - now;\n            \n            if (diff <= 0) {\n                return 'Expirado';\n            }\n            \n            const minutes = Math.floor(diff / 60000);\n            const seconds = Math.floor((diff % 60000) / 1000);\n            \n            return `${minutes}m ${seconds}s`;\n        },\n\n        async generateCardToken() {\n            try {\n                // Load Mercado Pago SDK if not already loaded\n                if (!window.MercadoPago) {\n                    console.error('Mercado Pago SDK n√£o carregado');\n                    return null;\n                }\n\n                // Get public key from settings\n                const publicKeyResponse = await axios.get('/api/mercadopago/public-key');\n                const publicKey = publicKeyResponse.data.public_key;\n\n                if (!publicKey) {\n                    console.error('Public key n√£o configurada');\n                    return null;\n                }\n\n                // Initialize Mercado Pago\n                const mp = new window.MercadoPago(publicKey);\n\n                // Prepare card data - IMPORTANT: cardNumber must be the FULL number without spaces\n                // Remove ALL spaces and non-digit characters\n                const cardNumber = this.cardData.number.replace(/\\D/g, '');\n                \n                console.log('DEBUG - Card data antes de gerar token:', {\n                    cardData_number_raw: this.cardData.number,\n                    cardNumber_cleaned: cardNumber,\n                    cardNumber_length: cardNumber.length,\n                    holderName: this.cardData.holderName,\n                    expiry: this.cardData.expiry,\n                    cvv: this.cardData.cvv\n                });\n                \n                const cardData = {\n                    cardNumber: cardNumber,\n                    cardholderName: this.cardData.holderName,\n                    cardExpirationMonth: this.cardData.expiry.split('/')[0],\n                    cardExpirationYear: '20' + this.cardData.expiry.split('/')[1],\n                    securityCode: this.cardData.cvv\n                };\n\n                console.log('Gerando token com dados:', {\n                    cardNumber: cardNumber,\n                    cardNumberLength: cardNumber.length,\n                    cardNumberPreview: cardNumber.substring(0, 6) + '****' + cardNumber.slice(-4),\n                    cardholderName: cardData.cardholderName,\n                    cardExpirationMonth: cardData.cardExpirationMonth,\n                    cardExpirationYear: cardData.cardExpirationYear\n                });\n\n                // Create token\n                const token = await mp.createCardToken(cardData);\n\n                if (token && token.id) {\n                    console.log('Token gerado com sucesso:', token.id);\n                    return token.id;\n                } else {\n                    console.error('Erro ao gerar token:', token);\n                    this.errorMessage = token?.cause?.[0]?.description || 'Erro ao gerar token do cart√£o';\n                    return null;\n                }\n\n            } catch (error) {\n                console.error('Exce√ß√£o ao gerar token:', error);\n                this.errorMessage = 'Erro ao processar cart√£o: ' + error.message;\n                return null;\n            }\n        }\n\n    }\n}\n</script>\n\n<style scoped>\n.mercadopago-checkout-container {\n    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n    border: 2px solid #007bff;\n}\n\n.card {\n    border: 1px solid #dee2e6;\n    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n}\n\n.form-control:focus,\n.form-select:focus {\n    border-color: #007bff;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n\n.btn-primary {\n    background-color: #007bff;\n    border-color: #007bff;\n    transition: all 0.3s ease;\n}\n\n.btn-primary:hover:not(:disabled) {\n    background-color: #0056b3;\n    border-color: #0056b3;\n    transform: translateY(-2px);\n    box-shadow: 0 0.5rem 1rem rgba(0, 123, 255, 0.3);\n}\n\n.btn-primary:disabled {\n    opacity: 0.65;\n    cursor: not-allowed;\n}\n\n.alert {\n    border-radius: 0.5rem;\n    animation: slideIn 0.3s ease;\n}\n\n@keyframes slideIn {\n    from {\n        opacity: 0;\n        transform: translateY(-10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.text-danger {\n    font-size: 0.875rem;\n    margin-top: 0.25rem;\n}\n</style>\n"],"names":[],"mappings":"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"}