{"version":3,"file":"index-Cz3UEm41.js","sources":["../../../eventmie-pro/resources/js/tags_manage/components/Tags.vue","../../../eventmie-pro/resources/js/tags_manage/index.js"],"sourcesContent":["<template>\n    <div>\n        <div class=\"card shadow-sm border-0\">\n            <div class=\"card-header d-flex justify-content-between flex-wrap p-4 bg-white border-bottom-0\">\n                <div>\n                    <h1 class=\"mb-0 fw-bold h2\">{{ trans('em.mytags') }}</h1>\n                </div>\n                <div>\n                    <Tag-component  :organiser_id=\"organiser_id\"> </Tag-component>\n                </div>\n            </div>\n\n            <div class=\"table-responsive\">\n                <table class=\"table text-wrap\">\n                    <thead class=\"table-light text-nowrap\">\n                        <tr>\n                            <th class=\"border-top-0 border-bottom-0\">{{ trans('em.name') }}</th>\n                            <th class=\"border-top-0 border-bottom-0\">{{ trans('em.type') }}</th>\n                            <th class=\"border-top-0 border-bottom-0\">{{ trans('em.actions') }}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(item, index) in tags\" v-bind:item=\"item\" v-bind:index=\"index\" v-bind:key=\"item.id\">\n                            <td :data-title=\"trans('em.name')\">\n                                <div class=\"d-flex align-items-center\">\n                                    \n                                    <img :src=\"getImageUrl(item.image)\" :alt=\"item.title\" class=\"rounded img-4by3-md\">\n                                    \n                                    <div class=\"ms-3 lh-1\">\n                                        <h5 class=\"mb-1\">{{ item.title }}</h5>\n                                        <small class=\"text-muted strong\">{{ item.sub_title }}</small>\n                                    </div>\n                                </div>\n                            </td>\n                            <td class=\"align-middle\" :data-title=\"trans('em.type')\">{{ item.type }}</td>\n                            <td class=\"align-middle text-nowrap\" :data-title=\"trans('em.actions')\"> \n                                <div class=\"btn-group\">\n                                    <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"edit_index = index\"><i class=\"fas fa-edit\"></i> {{ trans('em.edit') }}</button>\n                                    <button type=\"button\" class=\"btn btn-sm btn-danger\" @click=\"deleteTag(item.id)\"><i class=\"fas fa-trash\"></i> {{ trans('em.delete') }}</button>\n                                </div>\n                                <Tag-component  v-if=\"edit_index == index\" :edit_tag=\"item\" ></Tag-component>\n                            </td>\n                            \n                        </tr>\n                        <tr v-if=\"tags.length <= 0\">\n                            <td class=\"text-center align-middle\">{{ trans('em.no_tags') }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"px-4 pb-4\" v-if=\"tags.length > 0\">\n                <pagination-component v-if=\"pagination.last_page > 1\" :pagination=\"pagination\" :offset=\"pagination.total\" @paginate=\"getTags()\">\n                </pagination-component>\n            </div>\n        </div>\n    </div>\n    \n</template>\n\n<script>\n\nimport TagComponent from './Tag.vue';\nimport PaginationComponent from '../../common_components/Pagination.vue';\nimport mixinsFilters from '../../mixins.js';\n\nexport default {\n    props: [\n        'organiser_id', 'page',\n    ],\n\n    components: {\n        TagComponent,\n        PaginationComponent,\n    },\n\n    mixins:[\n        mixinsFilters\n    ],\n\n    data() {\n        return {\n            tags       : [],\n            edit_index : null,\n            pagination : {\n                'current_page': 1\n            },\n        }\n    },\n    computed: {\n         \n        current_page() {\n            // get page from route\n            if(typeof this.page === \"undefined\")\n                return 1;\n            return this.page;\n        },\n    },\n    methods: {\n        getTags() {\n            axios.post(route('eventmie.tags')+'?page='+this.current_page,{\n               organiser_id : this.organiser_id, \n            })\n            .then(res => {\n                // fill data tags array\n                this.tags   = res.data.tags.data;\n                this.pagination = {\n                    'total' : res.data.tags.total,\n                    'per_page' : res.data.tags.per_page,\n                    'current_page' : res.data.tags.current_page,\n                    'last_page' : res.data.tags.last_page,\n                    'from' : res.data.tags.from,\n                    'to' : res.data.tags.to,\n                    'links' : res.data.tags.links\n                };\n            })\n            .catch(error => {\n                Vue.helpers.axiosErrors(error);\n            });\n        },\n        deleteTag(tag_id){\n\n            this.showConfirm(trans('em.delete_tag_ask')).then((res) => {\n                if(res) {\n         \n                    axios.post(route('eventmie.tags_delete'), {\n                        tag_id : tag_id\n                    })\n                    .then(res => {\n                    \n                        if(res.data.status)\n                        {\n                            this.getTags();\n                            this.showNotification('success', trans('em.delete_tag_succcess'));\n                        }\n                    })\n                    .catch(error => {\n                        Vue.helpers.axiosErrors(error);\n                    });\n                }\n            })\n        }\n    },\n\n\n    mounted() {\n        this.getTags();\n    }\n}\n</script>","\n/**\n * This is a page specific seperate vue instance initializer\n */\n\n// include vue common libraries, plugins and components\nimport \"../vue_common.js\"\n\n\n/**\n * Local Third-party Lib Imports\n*/\n\n\n/**\n * Local Components \n */\nimport Tags from './components/Tags.vue';\n\n/**\n * Local Vue Routes \n */\nconst routes = new VueRouter({\n    mode: 'history',\n    base: '/',\n    linkExactActiveClass: 'there',\n    routes: [\n        {\n            path: path ? '/'+path+'/dashboard/mytags' : '/dashboard/mytags',\n            // Inject  props based on route.query values for pagination\n            props: (route) => ({\n                page: route.query.page,\n                \n            }),\n            name: 'Tags',\n            component: Tags,\n\n        },\n    ],\n});\n\n/**\n * This is where we finally create a page specific\n * vue instance with required configs\n * element=app will remain common for all vue instances\n * \n */\nwindow.app = new Vue({\n    el: '#eventmie_app',\n    router: routes,\n});"],"names":["res","route"],"mappings":";;;;AAiEA,MAAA,YAAA;AAAA,EACA,OAAA;AAAA,IACA;AAAA,IAAA;AAAA,EACA;AAAA,EAEA,YAAA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,QAAA;AAAA,IACA;AAAA,EACA;AAAA,EAEA,OAAA;AACA,WAAA;AAAA,MACA,MAAA,CAAA;AAAA,MACA,YAAA;AAAA,MACA,YAAA;AAAA,QACA,gBAAA;AAAA,MACA;AAAA,IACA;AAAA,EACA;AAAA,EACA,UAAA;AAAA,IAEA,eAAA;AAEA,UAAA,OAAA,KAAA,SAAA;AACA,eAAA;AACA,aAAA,KAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,UAAA;AACA,YAAA,KAAA,MAAA,eAAA,IAAA,WAAA,KAAA,cAAA;AAAA,QACA,cAAA,KAAA;AAAA,MACA,CAAA,EACA,KAAA,SAAA;AAEA,aAAA,OAAA,IAAA,KAAA,KAAA;AACA,aAAA,aAAA;AAAA,UACA,SAAA,IAAA,KAAA,KAAA;AAAA,UACA,YAAA,IAAA,KAAA,KAAA;AAAA,UACA,gBAAA,IAAA,KAAA,KAAA;AAAA,UACA,aAAA,IAAA,KAAA,KAAA;AAAA,UACA,QAAA,IAAA,KAAA,KAAA;AAAA,UACA,MAAA,IAAA,KAAA,KAAA;AAAA,UACA,SAAA,IAAA,KAAA,KAAA;AAAA,QACA;AAAA,MACA,CAAA,EACA,MAAA,WAAA;AACA,YAAA,QAAA,YAAA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,IACA,UAAA,QAAA;AAEA,WAAA,YAAA,MAAA,mBAAA,CAAA,EAAA,KAAA,CAAA,QAAA;AACA,YAAA,KAAA;AAEA,gBAAA,KAAA,MAAA,sBAAA,GAAA;AAAA,YACA;AAAA,UACA,CAAA,EACA,KAAA,CAAAA,SAAA;AAEA,gBAAAA,KAAA,KAAA,QACA;AACA,mBAAA,QAAA;AACA,mBAAA,iBAAA,WAAA,MAAA,wBAAA,CAAA;AAAA,YACA;AAAA,UACA,CAAA,EACA,MAAA,WAAA;AACA,gBAAA,QAAA,YAAA,KAAA;AAAA,UACA,CAAA;AAAA,QACA;AAAA,MACA,CAAA;AAAA,IACA;AAAA,EACA;AAAA,EAGA,UAAA;AACA,SAAA,QAAA;AAAA,EACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC7HA,MAAM,SAAS,IAAI,UAAU;AAAA,EACzB,MAAM;AAAA,EACN,MAAM;AAAA,EACN,sBAAsB;AAAA,EACtB,QAAQ;AAAA,IACJ;AAAA,MACI,MAAM,OAAO,MAAI,OAAK,sBAAsB;AAAA;AAAA,MAE5C,OAAO,CAACC,YAAW;AAAA,QACf,MAAMA,OAAM,MAAM;AAAA,MAElC;AAAA,MACY,MAAM;AAAA,MACN,WAAW;AAAA,IAEd;AAAA,EACJ;AACL,CAAC;AAQD,OAAO,MAAM,IAAI,IAAI;AAAA,EACjB,IAAI;AAAA,EACJ,QAAQ;AACZ,CAAC;"}